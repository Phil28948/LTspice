Version 4
SHEET 1 2080 680
WIRE 1184 -352 1184 -384
WIRE 1184 -352 1024 -352
WIRE 1312 -352 1184 -352
WIRE 1024 -320 1024 -352
WIRE 1312 -320 1312 -352
WIRE 1024 -208 1024 -240
WIRE 1312 -208 1312 -240
WIRE 1184 -160 1088 -160
WIRE 1248 -160 1184 -160
WIRE 192 -144 144 -144
WIRE 256 -112 256 -144
WIRE 1024 -64 1024 -112
WIRE 1184 -64 1184 -160
WIRE 1184 -64 1024 -64
WIRE 80 -32 80 -144
WIRE 112 -32 80 -32
WIRE 112 0 112 -32
WIRE 128 0 112 0
WIRE 256 0 256 -32
WIRE 256 0 192 0
WIRE 1024 16 976 16
WIRE 1312 16 1312 -112
WIRE 1424 16 1312 16
WIRE 1616 16 1424 16
WIRE 1424 32 1424 16
WIRE 1616 48 1616 16
WIRE 1184 96 1024 96
WIRE 112 112 112 0
WIRE 128 112 112 112
WIRE 256 128 256 0
WIRE 256 128 192 128
WIRE 320 128 256 128
WIRE 432 128 384 128
WIRE 1024 128 1024 96
WIRE 1312 128 1312 16
WIRE 128 144 96 144
WIRE 96 160 96 144
WIRE 1184 176 1184 96
WIRE 1184 176 1088 176
WIRE 1248 176 1184 176
WIRE 1024 272 1024 224
WIRE 1312 272 1312 224
WIRE 1024 368 1024 352
WIRE 1184 368 1024 368
WIRE 1312 368 1312 352
WIRE 1312 368 1184 368
WIRE 1184 400 1184 368
FLAG 96 160 0
FLAG -352 240 0
FLAG -272 240 0
FLAG -352 160 V+
FLAG 160 96 V+
FLAG -272 160 V-
FLAG 160 160 V-
FLAG -176 240 0
FLAG 432 208 0
FLAG 1184 -384 V+
FLAG 1184 400 V-
FLAG -176 160 V_in
FLAG 32 112 V_in
FLAG 976 16 V_in
FLAG 1616 128 0
FLAG 1424 96 0
FLAG 1232 16 0
SYMBOL voltage -176 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(-5 5 0 .00001 .00001 .00225 .0045 100)
SYMBOL voltage -272 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value -10
SYMBOL voltage -352 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 10
SYMBOL res 128 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 500
SYMBOL cap 192 -16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL cap 384 112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL res 416 112 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL Opamps\\OP07 160 64 R0
SYMATTR InstName U1
SYMBOL zener 144 -160 R90
WINDOW 0 -4 32 VBottom 2
WINDOW 3 36 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N750
SYMBOL zener 192 -128 R270
WINDOW 0 36 32 VTop 2
WINDOW 3 -4 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N750
SYMBOL res 240 -128 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL pnp 1088 -112 R180
SYMATTR InstName Q1
SYMATTR Value BC327-25
SYMBOL pnp 1248 -112 M180
SYMATTR InstName Q2
SYMATTR Value BC327-25
SYMBOL npn 1248 128 R0
SYMATTR InstName Q3
SYMATTR Value BC337-25
SYMBOL npn 1088 128 M0
SYMATTR InstName Q4
SYMATTR Value BC337-25
SYMBOL res 1008 -80 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 1008 0 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL cap 1408 32 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL res 1600 32 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 1008 -336 R0
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL res 1296 -336 R0
SYMATTR InstName R8
SYMATTR Value 100
SYMBOL res 1008 256 R0
SYMATTR InstName R9
SYMATTR Value 100
SYMBOL res 1296 256 R0
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL res 1328 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
TEXT -8 -560 Left 2 ;Op amp: V_in to be replaced by digital rheostat between Vdd and Vss\n \nCurrent mirror: V_in replaced with ground, R4 and R5 are digitally controlled pots\nTake signal from C3, LP filter the shit out of it and apply to R4/R5 node (also add resistor between this node and ground).\nWill provide negative feedback esp. for DC offsets due to gain mismatches between source and sink. Has added benefit of\nreducing gain for OTA VCA stage.\nReduce value of C3 for better power consumption w/ given slew rate.
TEXT 598 -54 Left 2 !.tran .1
